# This file is a Makefile for tkgoodstuff.  If it has the name
# "Makefile.in" then it is a template for a Makefile; to generate the
# actual Makefile, run "./configure", which is a configuration script
# generated by the "autoconf" program (constructs like "@foo@" will
# get replaced in the actual Makefile.

SHELL =			/bin/sh

VERSION =		@VERSION@
prefix = 		@prefix@
exec_prefix =		@exec_prefix@
TK_PREFIX =		@TK_PREFIX@

# Where to put binaries and the scripts (tkgoodstuff, Dialer)
LIB_INSTALL_DIR =	$(prefix)/lib/tkgoodstuff
BIN_INSTALL_DIR =	$(exec_prefix)/bin

# Used on some platforms in TCL_LD_SEARCH_FLAGS
LIB_RUNTIME_DIR =	$(LIB_INSTALL_DIR)

CC =			@TCL_CC@

TKGWISH_NAME =		tkgwish$(VERSION)

LIBS =			@TK_LIB_SPEC@ @TCL_LIB_SPEC@ @TK_LIBS@ -lc
XINCLUDES =		@TK_XINCLUDES@

SRCDIR =		@srcdir@

CFLAGS =		-O @TCL_DEFS@ @TK_DEFS@ -I$(SRCDIR) \
			-I$(TK_PREFIX)/include -I$(TK_PREFIX)/include/tcl \
			$(XINCLUDES)

INSTALL =		@INSTALL@
INSTALL_PROGRAM =	@INSTALL_PROGRAM@
INSTALL_DATA =		@INSTALL_DATA@

OBJS = tkFvwm.o tixImgXpm.o tkXAccess.o clientWin.o \
     tkgButton.o tkgUnixButton.o tkgFrame.o tkg.o tkAppInit.o

all: tkgwish

tkgwish: $(TKGWISH_NAME)

$(TKGWISH_NAME): $(OBJS)
	$(CC) -o $@ @TCL_LD_FLAGS@ $(OBJS) \
		$(LIBS) @TCL_LD_SEARCH_FLAGS@

install: tkgwish
	@echo "Installing $(BIN_INSTALL_DIR)/$(TKGWISH_NAME)"
	@$(INSTALL_PROGRAM) $(TKGWISH_NAME) $(BIN_INSTALL_DIR)

clean:
	@rm -f *.o tkgwish* *.so pkgIndex.tcl

distclean:
	@rm -f *.a *.o core errs *~ \#* TAGS *.E config.* \
	a.out errors tkgwish*  Makefile *.so *.tmp
